openApiGenerate {
    generatorName = "spring"
    inputSpec = "$rootDir/src/main/resources/static/api.yml"
    outputDir = "$buildDir/generated"
    groupId = "$project.group"
    id = "$project.name-java-client"
    version = "$project.version"
    apiPackage = "com.gd.clinic.api"
    modelPackage = "com.gd.clinic.model"
    modelNameSuffix = "Dto"
    configOptions = [
            interfaceOnly: "true",
            useTags: "true",
            openApiNullable: "false",
            skipDefaultInterface: "true",
            additionalModelTypeAnnotations: "@lombok.AllArgsConstructor @lombok.NoArgsConstructor @lombok.Builder"
    ]
    globalProperties = [
            apis: "",
            models: ""
    ]
    enablePostProcessFile = true
    skipOverwrite = false
}

compileJava.dependsOn tasks.openApiGenerate
